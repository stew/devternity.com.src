- var site = `${event.name} ${event.year}`
- var title = `${event.name} ${event.year} – ${event.nameHint}`
- var speakersToBeAnnounced = 0;
  each timeslot in event.schedule
    each speaker in timeslot.talks
      unless speaker
        - speakersToBeAnnounced++
doctype html

mixin stars
  svg(xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fec42d" class="w-6 h-6")
    path(stroke-linecap="round" fill="#fec42d" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z")
  svg(xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fec42d" class="w-6 h-6")
    path(stroke-linecap="round" fill="#fec42d" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z")
  svg(xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fec42d" class="w-6 h-6")
    path(stroke-linecap="round" fill="#fec42d" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z")
  svg(xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fec42d" class="w-6 h-6")
    path(stroke-linecap="round" fill="#fec42d" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z")
  svg(xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fec42d" class="w-6 h-6")
    path(stroke-linecap="round" fill="#fec42d" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z")
mixin excellent
  .excellent.fixed.top-6.right-6.text-center
    p.italic(class="text-xl tracking-wider") “Excellent!”
    .flex
      +stars
mixin modal(id, markdown)
  .modal.fixed.h-screen.w-screen.z-20.top-0.left-0.hidden.overflow-scroll(id=id role="dialog" aria-modal="true" class="bg-black bg-gradient-to-r from-black to-slate-900")
    .container.py-16
      .space-y-8.text-slate-300(class="2xl:w-3/4 [&>p]:leading-normal [&>ul]:list-disc [&>ul]:list-inside [&>li]:marker:text-lime-950 md:text-xl xl:text-2xl [&_h1]:font-mono [&_h1]:font-bold [&_h1]:text-white [&_h1]:text-2xl [&_h1]:md:text-5xl [&_h1]:before:content-['>'] [&>h1]:before:mr-2 [&>h1]:before:text-lime-950") !{marked(markdown)}
    button.close.absolute.top-4.right-4.text-slate-300.bg-transparent.rounded-full(type='button' class='hover:text-white p-1.5' tabindex="-1")
      svg.w-8.h-8(aria-hidden='true' fill='currentColor' viewbox='0 0 20 20' xmlns='http://www.w3.org/2000/svg')
        path(fill-rule='evenodd' d='M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z' clip-rule='evenodd')
      span.sr-only Close modal
mixin timezoneToggle
  .timeZoneToggle.top-0.left-0.z-10.transition-opacity.w-full.text-slate-500.pt-4
    label.inline-flex.items-center.cursor-pointer.relative
      input.sr-only.peer(type='checkbox' value='')
      .w-9.h-5.rounded-full.peer.ring-2.ring-lime-950(class="duration-300 peer-checked:bg-slate-700 peer-focus:ring-4 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-slate-300 after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all")
      span.ml-3.text-sm.info

html.scroll-smooth(lang="en" class="bg-black bg-gradient-to-b from-black to-slate-800")
  head
    meta(charset='utf-8')
    meta(name='theme-color' content='#000000')
    meta(http-equiv='Content-Type' content='text/html; charset=utf-8')
    title=title
    meta(name='description' content=event.description)
    meta(property='og:description' content=event.description)
    meta(property='og:title' content=title)
    meta(property='og:site_name' content=site)
    meta(property='og:type' content='website')
    meta(property='og:locale' content='en_US')
    meta(property='og:url' content=event.website)
    meta(property='og:image' content=event.website + '/' + require(`/src/${env.event}/images/og-image.png`))
    meta(name='twitter:title' content=title)
    meta(name='twitter:card' content='summary_large_image')
    meta(name='twitter:site' content=site)
    link(rel='canonical' href=event.website)
    link(rel="shortcut icon" type="image/png" href=require(`/src/${env.event}/images/logo.png`))
    link(rel="icon" href=require(`/src/${env.event}/images/logo.png`))
    link(rel="shortcut icon" sizes="64x64" href=require(`/src/${env.event}/images/logo.png`))
    script(type='application/ld+json')
      | {
      |   "@context": "http://schema.org",
      |   "@type": "Organization",
      |   "name": "#{event.name}",
      |   "url": "#{event.website}"
      | }
    script(type='application/ld+json').
      {
        "@context": "http://schema.org",
        "@type": "EducationEvent",
        "name": "#{title}",
        "image": "#{event.website}/images/logo.png",
        "eventAttendanceMode": "https://schema.org/OnlineEventAttendanceMode",
        "eventStatus": "https://schema.org/EventScheduled",
        "description": "#{event.description}",
        "startDate": "#{event.date}T09:00",
        "endDate": "#{event.date}T18:00",
        "offers": {
          "@type": "Offer",
          "availability": "http://schema.org/InStock",
          "price": "399",
          "validFrom": "2018-01-01T01:01:01.001Z",
          "url": "#{event.website}",
          "priceCurrency": "EUR"
        },
        "performer": {
          "@type": "Organization",
          "name": "#{event.name}",
          "sameAs": "#{event.website}"
        }
      }
    meta(name='viewport' content='width=device-width')
    link(rel='preconnect' href='https://fonts.googleapis.com')
    link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
    link(href='https://fonts.googleapis.com/css2?family=Cabin:wght@400;700&family=Ubuntu+Mono:wght@400;700&display=swap' rel='stylesheet')
    link(rel="stylesheet" href=require('./main.scss'))
    script(src=require('./main.mjs') defer)
    script(src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon=`{"token": "${event.cfAnalytics}"}` defer)
  body.text-white.antialiased
    section.later.opacity-0(class="lg:gap-14 h-screen overflow-hidden relative")
      video(autoplay loop playsinline muted class="absolute block top-0 right-0 min-h-full min-w-full max-w-none -z-10 opacity-40")
        source(src="video.mp4" type="video/mp4")
      +excellent
      .container.flex.flex-col.gap-10.items-center.justify-center.h-full
        h1(class="tracking-tight text-center text-6xl lg:text-9xl ") #{event.name} #{event.year}.
        h2(class="text-center text-lg md:text-2xl lg:text-3xl ") #{event.slogan}.
        h3.text-slate-300.text-center(class="lg:text-2xl") The scheduled 2023 edition won't take place as planned, and you can clear your calendars. Further information and instructions will be communicated to attendees shortly.
          //- span #{dayjs(event.date).format("D")}-#{dayjs(event.masterclasses.date).format("D MMMM YYYY")}. Online.
        a.flex.text-xl.py-3.justify-center.uppercase.border.border-slate-300.font-bold.font-mono.text-neutral-200.rounded-lg.transition-all.duration-300(class='w-[350px] hover:text-white hover:border-red-600' href='#Tickets') Sold out
        //- - var monthsUntilConference = dayjs(event.date).diff(dayjs(), 'days')
        //- if monthsUntilConference <= 90
        //-   h4#countdown.text-center.font-mono.text-slate-300(class="" data-nothing='The conference is happening now.' data-prefix='We start in ' data-date-iso=`${event.date}T09:00Z`)
    section.text-center.container.flex.items-center.text-slate-300(class="lg:w-3/5 mb-[50vh] mt-[20vh]")
      .flex.flex-col.gap-10(class="text-normal md:text-2xl")
        | !{marked(event.about)}
        .flex.text-center.justify-center
          +stars
